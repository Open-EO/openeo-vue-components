"use strict";(self["webpackChunk_openeo_vue_components"]=self["webpackChunk_openeo_vue_components"]||[]).push([[782],{2782:(t,s,a)=>{a.r(s),a.d(s,{default:()=>f});var n=function(){var t=this,s=t._self._c;return s("button",{directives:[{name:"show",rawName:"v-show",value:t.fn,expression:"fn"}],staticClass:"async-button",class:{awesome:t.fa},attrs:{type:"button",title:t.title,disabled:t.disabled},on:{click:t.update}},[s("span",{staticClass:"button-content"},[t.loading?s("span",{staticClass:"icon loading"},[t.fa?s("i",{class:t.loadingClasses}):s("LoadingIcon",{attrs:{rotate:""}})],1):!0===t.asyncState?s("span",{staticClass:"icon success"},[t.fa?s("i",{staticClass:"fas fa-check"}):s("span",[t._v("✔️")])]):!1===t.asyncState?s("span",{staticClass:"icon error"},[t.fa?s("i",{staticClass:"fas fa-times"}):s("span",[t._v("❌")])]):s("span",{staticClass:"icon default"},[t.fa?s("i",{class:t.icon}):t.icon?s("span",[t._v(t._s(t.icon))]):s("LoadingIcon")],1),s("span",{staticClass:"text"},[t._t("default")],2)])])},e=[],i=a(2515);const o={components:{LoadingIcon:i.A},name:"AsyncButton",props:{fn:{type:Function,required:!0},fa:{type:Boolean,default:!1},confirm:{type:Boolean,default:!1},icon:{type:String,default:""},title:{type:String,default:null},disabled:{type:Boolean,default:!1},consistent:{type:Boolean,default:!1}},data(){return{loading:!1,asyncState:null}},computed:{loadingClasses(){let t=this.consistent?this.icon.split(" "):["fas","fa-spinner"];return t.push("fa-spin"),t}},methods:{async update(t){if(null===this.asyncState&&!this.disabled)try{this.$emit("before",t),this.loading=!0,this.asyncState=await this.fn(t),this.confirm?"boolean"!==typeof this.asyncState&&(this.asyncState=!0):this.asyncState=null}catch(s){this.asyncState=!1}finally{this.loading=!1,this.$emit("after",this.asyncState),this.confirm&&setTimeout((()=>this.asyncState=null),3e3)}}}},c=o;var l=a(1656),u=(0,l.A)(c,n,e,!1,null,"1618a4b8",null);const f=u.exports}}]);
//# sourceMappingURL=782.aec6d7a3.js.map